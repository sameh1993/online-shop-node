<%- include("parts/header") %> 

<%- include("parts/navbar") %> 


<div class="addProduct">

    <div class="container">

        <% if(msg.length > 0) {  %> 
            <div class="alert alert-danger"> <%= msg %>  </div>
         <% } %> 

        <%# 
            == انواع تشفير البيانات ونقلها الى السيرفر 

            1 = application/x-www-form-urlencoded
            2 = multipart/form-data هذه الطريقه تقوم يتقطيع الملف الى chunks لنقل البيانات

            == must be use multer to fetch data [ multi parts ]
            npm install --save multer
        %>

        <form class="form shadow mr-auto ml-auto" method="POST" action="/admin/add" enctype="multipart/form-data">
            <h3 class="text-center"> Add New Product </h3>
            <div class="form-group">
                <input type="text" name="productName" class="form-control" placeholder="Enter Product Name"/>
                <% let productName = formError.find(err => err.param == 'productName') %> 
                <% if(productName) {  %> 
                    <div class="alert alert-danger"> <%= productName.msg %>  </div>
                    <% } %> 
            </div>

            <div class="form-group">
                <input type="number" name="price" class="form-control" placeholder="Enter Price" /> 
                <% let priceError = formError.find(err => err.param == 'price') %> 
                <% if(priceError) {  %> 
                    <div class="alert alert-danger"> <%= priceError.msg %>  </div>
                    <% } %> 
            </div>

            <div class="form-group">
                <textarea type="text" name="description" class="form-control" placeholder="Enter description"></textarea> 
                <% let descriptionError = formError.find(err => err.param == 'description') %> 
                <% if(descriptionError) {  %> 
                    <div class="alert alert-danger"> <%= descriptionError.msg %>  </div>
                    <% } %> 
            </div>

            <div class="form-group">
                <select type="text" name="category" class="form-control">
                    <option selected> selected a category type </option>
                    <option value="clothes"> Clothes </option>
                    <option value="tablet"> Tablets </option>
                    <option value="mobile"> Mobile </option>
                </select> 
            </div>

            <div class="form-group">
                <input type="file" name="image" class="form-control" /> 
              
            </div>

            <input type="submit" class="btn btn-primary" value="Add Product" />
        </form>
    </div>

</div>



<%- include("parts/footer") %> 